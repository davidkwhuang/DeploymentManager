<?xml version="1.0" encoding="UTF-8"?><database>
    <element audit="true" label="Deployment Signoff" max_length="40" name="x_dptmgr_deployment_signoff" type="collection">
        <element calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" label="Activity" max_length="4000" name="activity" type="journal_input"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;var percentage = current.percentage_complete; &#13;&#10;&#9;return percentage;  &#13;&#10;&#13;&#10;})(current);" label="Percentage Complete" max_length="40" name="actual_percentage" type="percent_complete" virtual="true"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" label="Associated Deployment" max_length="32" name="associated_deployment" reference="x_dptmgr_deployment" type="reference"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" label="Instruction Email Sent" max_length="40" name="email_sent" read_only="true" type="boolean"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;var deployfinish = new GlideDateTime;&#13;&#10;var reg = new GlideRecord('x_dptmgr_deployment');&#13;&#10;reg.addQuery('sys_id', current.associated_deployment);&#13;&#10;reg.query();&#13;&#10;while (reg.next()) {&#13;&#10;&#9;deployfinish = reg.estimated_deployment_completion;&#13;&#10;&#9;reg.update();&#13;&#10;}&#13;&#10;&#13;&#10;if ((current.signoff_type == &quot;Engineering&quot;) &amp;&amp;  (!current.signed_off_time.nil())) {&#13;&#10;var start = new GlideDateTime(deployfinish.getDisplayValue());&#13;&#10;var end = new GlideDateTime(current.signed_off_time.getDisplayValue());&#13;&#10;var dur = GlideDateTime.subtract(start, end); //the difference between start and end&#13;&#10;&#13;&#10;return dur;  // return the calculated value&#13;&#10;}&#13;&#10;})(current);" label="Engineering Validation Duration" max_length="40" name="eng_validation_duration" type="glide_duration" virtual="true"/>
        <element calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" label="Notes" max_length="4000" name="notes" type="journal"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" label="Completion Progress" max_length="40" name="percentage_complete" type="integer"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;var dgtNumStart =new GlideDateTime(current.registered_time).getNumericValue();&#13;&#10;var dgtNumEnd = new GlideDateTime(current.signed_off_time).getNumericValue(); &#13;&#10;&#13;&#10;&#13;&#10;if (current.signoff_type == &quot;Process&quot; &amp;&amp; current.signed_off &amp;&amp; dgtNumStart &lt; dgtNumEnd &amp;&amp; current.registered_time != '') {&#13;&#10;&#13;&#10;var start = new GlideDateTime(current.registered_time.getDisplayValue());&#13;&#10;var end = new GlideDateTime(current.signed_off_time.getDisplayValue());&#13;&#10;var dur = GlideDateTime.subtract(start, end); //the difference between start and end&#13;&#10;return dur;  // return the calculated value&#13;&#10;}&#13;&#10;&#13;&#10;})(current);" label="Process Signoff Duration" max_length="40" name="process_signoff_duration" type="glide_duration" virtual="true"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" label="Registered Attendance" max_length="40" name="registered_attendance" read_only="true" type="boolean"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" label="Registered By" max_length="32" name="registered_by" read_only="true" reference="sys_user" reference_qual="active=true^EQ" reference_qual_condition="active=true^EQ" type="reference"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" label="Registered Time" max_length="40" name="registered_time" read_only="true" type="glide_date_time"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#13;&#10;&#13;&#10;var engreg = new GlideDateTime;&#13;&#10;var reg = new GlideRecord('x_dptmgr_deployment_signoff');&#13;&#10;reg.addQuery('associated_deployment', current.associated_deployment);&#13;&#10;reg.addQuery('signoff_type', &quot;Engineering&quot;);&#13;&#10;reg.addQuery('signoff_module', current.signoff_module);&#13;&#10;reg.query();&#13;&#10;while (reg.next()) {&#13;&#10;&#9;engreg = reg.signed_off_time;&#13;&#10;&#9;reg.update();&#13;&#10;}&#13;&#10;&#13;&#10;var dgtNumStart = new GlideDateTime(engreg).getNumericValue(); &#13;&#10;var dgtNumEnd = new GlideDateTime(current.registered_time).getNumericValue();&#13;&#10;&#13;&#10;if ((current.signoff_type == &quot;Process&quot;)  &amp;&amp; (dgtNumStart &lt; dgtNumEnd)) {&#13;&#10;var start = new GlideDateTime(engreg.getDisplayValue());&#13;&#10;var end = new GlideDateTime(current.registered_time.getDisplayValue());&#13;&#10;var dur = GlideDateTime.subtract(start, end); //the difference between start and end&#13;&#10;&#13;&#10;return dur;  // return the calculated value&#13;&#10;}&#13;&#10;})(current);" label="Registration Duration" max_length="40" name="registration_duration" type="glide_duration" virtual="true"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" label="Signed Off" max_length="40" name="signed_off" type="boolean"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" label="Signed Off By" max_length="32" name="signed_off_by" reference="sys_user" reference_qual="active=true^EQ" reference_qual_condition="active=true^EQ" type="reference"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" label="Signed Off Time" max_length="40" name="signed_off_time" type="glide_date_time"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" display="true" label="Signoff Module" max_length="32" name="signoff_module" reference="x_dptmgr_modules" type="reference"/>
        <element attributes="edge_encryption_enabled=true" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;return '';  // return the calculated value&#13;&#10;&#13;&#10;})(current);" choice="1" label="Signoff Type" max_length="40" name="signoff_type" type="choice">
            <choice>
                <element inactive_on_update="false" label="Process Owner" sequence="1" value="Process"/>
                <element inactive_on_update="false" label="Engineering" sequence="2" value="Engineering"/>
            </choice>
        </element>
        <element attributes="edge_encryption_enabled=true" label="Test Completion Duration" max_length="40" name="test_completion_duration" type="glide_duration"/>
        <index name="index">
            <element name="registered_by"/>
        </index>
        <index name="index2">
            <element name="signoff_module"/>
        </index>
        <index name="index3">
            <element name="associated_deployment"/>
        </index>
        <index name="index4">
            <element name="signed_off_by"/>
        </index>
    </element>
</database>
